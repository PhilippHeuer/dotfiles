[init]
  defaultBranch = main

[core]
  editor = nvim
  pager = delta
  autocrlf     = input
  eol          = lf
  excludesfile = ~/.config/git/gitignore
  preloadindex = true
  fscache      = true

[commit]
  gpgsign = true

[tag]
  gpgsign = true
  forcesignannotated = true

[pull]
  rebase = true # rebase instead of merge when pulling

[fetch]
  prune = true # remove remote branches that no longer exist on the server

[alias]
  s = status --short --branch
  sw = !sh -c 'git stash && git checkout \"$0\"'
  di = diff
  df = diff --staged
  fa = fetch -a
  wa = worktree add
  wr = worktree remove
  wl = worktree list
  sl = stash list
  sp = stash pop
  ss = stash save
  # add executable file
  addx = !sh -c 'git add $0; git update-index --chmod=+x $0'
  # log with relative dates
  lr = log --color --graph --abbrev-commit --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset  %s  %Cgreen(%cr)  %C(bold  blue)<%an>%Creset'
  # log with absolute dates
  la = log --color --graph --abbrev-commit --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset  %s  %Cgreen(%cD)  %C(bold  blue)<%an>%Creset'
  # list all tags
  t = log --no-walk --tags --pretty=format:'%C(auto)%aI  %H  %d' --decorate=full

[interactive]
  diffFilter = delta --color-only
[add.interactive]
    useBuiltin = false # required for git 2.37.0

[delta]
  navigate = true  # use n and N to move between diff sections
  side-by-side = true # side by side view
  light = false

[merge]
  conflictstyle = diff3

[diff]
  colorMoved = default

[gc]
  auto = 256

[credential]
  helper = 'cache --timeout=3600'

# auth with gh cli
[credential "https://github.com"]
	helper = 
	helper = !$HOME/.local/bin/gh auth git-credential
[credential "https://gist.github.com"]
	helper = 
	helper = !$HOME/.local/bin/gh auth git-credential

[include]
  path = ~/.config/git/user
